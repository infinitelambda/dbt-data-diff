<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Offical documentation of `dbt-data-diff` dbt package"><meta name=author content="Infinite Lambda"><link rel=canonical href=https://infinitelambda.github.io/dbt-data-diff/1.0/index.html><link rel=next href=contributing.html><link rel=icon href=assets/favicon.ico><meta name=generator content="mkdocs-1.5.3, mkdocs-material-9.5.3"><title>dbt Data Diff</title><link rel=stylesheet href=assets/stylesheets/main.50c56a3b.min.css><link rel=stylesheet href=assets/stylesheets/palette.06af60db.min.css><script src=https://unpkg.com/iframe-worker/shim></script><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=assets/css/termynal.css><script>__md_scope=new URL(".",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config","G-7J35XLQHC1"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","G-7J35XLQHC1",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-7J35XLQHC1",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script><script>var consent;"undefined"==typeof __md_analytics||(consent=__md_get("__consent"))&&consent.analytics&&__md_analytics()</script><meta property=og:image content=https://raw.githubusercontent.com/infinitelambda/dbt-data-diff/main/docs/assets/img/data-diff.jpeg></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=black data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#dbt-data-diff class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <div data-md-color-scheme=default data-md-component=outdated hidden> <aside class="md-banner md-banner--warning"> <div class="md-banner__inner md-grid md-typeset"> You're not viewing the latest version. <a href=../.> <strong>Click here to go to latest.</strong> </a> </div> <script>var el=document.querySelector("[data-md-component=outdated]"),outdated=__md_get("__outdated",sessionStorage);!0===outdated&&el&&(el.hidden=!1)</script> </aside> </div> <header class="md-header md-header--shadow" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=index.html title="dbt Data Diff" class="md-header__button md-logo" aria-label="dbt Data Diff" data-md-component=logo> <img src=assets/favicon.ico alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> dbt Data Diff </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> 📦 dbt-data-diff </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media=(prefers-color-scheme) data-md-color-scheme=default data-md-color-primary=black data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9h-1.9M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69m-9.15 3.96h2.3L12 9l-1.15 3.65Z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=black data-md-color-accent=indigo aria-label="Switch to dark mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=black data-md-color-accent=indigo aria-label="Switch to system preference" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to system preference" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg> </label> </form> <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/infinitelambda/dbt-data-diff title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </div> <div class=md-source__repository> infinitelambda/dbt-data-diff </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=index.html title="dbt Data Diff" class="md-nav__button md-logo" aria-label="dbt Data Diff" data-md-component=logo> <img src=assets/favicon.ico alt=logo> </a> dbt Data Diff </label> <div class=md-nav__source> <a href=https://github.com/infinitelambda/dbt-data-diff title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </div> <div class=md-source__repository> infinitelambda/dbt-data-diff </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> 📦 dbt-data-diff </span> <span class="md-nav__icon md-icon"></span> </label> <a href=index.html class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> 📦 dbt-data-diff </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#core-concept class=md-nav__link> <span class=md-ellipsis> Core Concept 🌟 </span> </a> </li> <li class=md-nav__item> <a href=#installation class=md-nav__link> <span class=md-ellipsis> Installation </span> </a> </li> <li class=md-nav__item> <a href=#quick-start class=md-nav__link> <span class=md-ellipsis> Quick Start </span> </a> <nav class=md-nav aria-label="Quick Start"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#1-configure-the-tables-that-need-comparing-in-dbt_projectyml class=md-nav__link> <span class=md-ellipsis> 1. Configure the tables that need comparing in dbt_project.yml </span> </a> </li> <li class=md-nav__item> <a href=#2-refresh-the-configured-tabless-data class=md-nav__link> <span class=md-ellipsis> 2. Refresh the configured tables's data </span> </a> </li> <li class=md-nav__item> <a href=#3-trigger-the-validation-via-dbt-operation class=md-nav__link> <span class=md-ellipsis> 3. Trigger the validation via dbt operation </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#demo class=md-nav__link> <span class=md-ellipsis> Demo </span> </a> </li> <li class=md-nav__item> <a href=#variables class=md-nav__link> <span class=md-ellipsis> Variables </span> </a> </li> <li class=md-nav__item> <a href=#how-to-contribute class=md-nav__link> <span class=md-ellipsis> How to Contribute ❤️ </span> </a> </li> <li class=md-nav__item> <a href=#features-comparison-to-the-alternative-packages class=md-nav__link> <span class=md-ellipsis> Features comparison to the alternative packages </span> </a> </li> <li class=md-nav__item> <a href=#about-infinite-lambda class=md-nav__link> <span class=md-ellipsis> About Infinite Lambda </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=dbt-docs/index.html class=md-nav__link> <span class=md-ellipsis> 📖 dbt docs </span> </a> </li> <li class=md-nav__item> <a href=contributing.html class=md-nav__link> <span class=md-ellipsis> Contribution Guideline </span> </a> </li> <li class=md-nav__item> <a href=https://github.com/infinitelambda/dbt-data-diff/releases target=_blank class=md-nav__link> <span class=md-ellipsis> Change Log ↗️ </span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#core-concept class=md-nav__link> <span class=md-ellipsis> Core Concept 🌟 </span> </a> </li> <li class=md-nav__item> <a href=#installation class=md-nav__link> <span class=md-ellipsis> Installation </span> </a> </li> <li class=md-nav__item> <a href=#quick-start class=md-nav__link> <span class=md-ellipsis> Quick Start </span> </a> <nav class=md-nav aria-label="Quick Start"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#1-configure-the-tables-that-need-comparing-in-dbt_projectyml class=md-nav__link> <span class=md-ellipsis> 1. Configure the tables that need comparing in dbt_project.yml </span> </a> </li> <li class=md-nav__item> <a href=#2-refresh-the-configured-tabless-data class=md-nav__link> <span class=md-ellipsis> 2. Refresh the configured tables's data </span> </a> </li> <li class=md-nav__item> <a href=#3-trigger-the-validation-via-dbt-operation class=md-nav__link> <span class=md-ellipsis> 3. Trigger the validation via dbt operation </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#demo class=md-nav__link> <span class=md-ellipsis> Demo </span> </a> </li> <li class=md-nav__item> <a href=#variables class=md-nav__link> <span class=md-ellipsis> Variables </span> </a> </li> <li class=md-nav__item> <a href=#how-to-contribute class=md-nav__link> <span class=md-ellipsis> How to Contribute ❤️ </span> </a> </li> <li class=md-nav__item> <a href=#features-comparison-to-the-alternative-packages class=md-nav__link> <span class=md-ellipsis> Features comparison to the alternative packages </span> </a> </li> <li class=md-nav__item> <a href=#about-infinite-lambda class=md-nav__link> <span class=md-ellipsis> About Infinite Lambda </span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href=https://github.com/infinitelambda/dbt-data-diff/edit/main/docs/index.md title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4v-2m10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1 2.1 2.1Z"/></svg> </a> <a href=https://github.com/infinitelambda/dbt-data-diff/raw/main/docs/index.md title="View source of this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.15 8.15 0 0 1-1.23-2Z"/></svg> </a> <!-- markdownlint-disable no-inline-html no-alt-text ul-indent code-block-style --> <h1 id=dbt-data-diff>dbt-data-diff<a class=headerlink href=#dbt-data-diff title="Permanent link">&para;</a></h1> <p><img align=right width=150 height=150 src=./assets/img/il-logo.png></p> <p><a href=https://hub.getdbt.com/infinitelambda/dbt-data-diff><img alt=dbt-hub src="https://img.shields.io/badge/Visit-dbt--hub%20↗️-FF694B?logo=dbt&logoColor=FF694B"></a></p> <p>Data-diff solution for dbt-ers with Snowflake ❄️ 🌟</p> <p><strong><em>Who is this for?</em></strong></p> <ul> <li>Primarily for people who want to perform Data-diff validation on <strong><a href=https://discourse.getdbt.com/t/performing-a-blue-green-deploy-of-your-dbt-project-on-snowflake/1349>the Blue-Green deployment</a></strong> 🚀</li> <li>Other good considerations 👍<ul> <li>UAT validation: data-diff with PROD</li> <li>Code-Refactoring validation: data diff between old vs new</li> <li>Migration to Snowflake: data diff between old vs new (requires to land the old data to Snowflake)</li> <li>CI: future consideration only ⚠️</li> </ul> </li> </ul> <h2 id=core-concept>Core Concept 🌟<a class=headerlink href=#core-concept title="Permanent link">&para;</a></h2> <p><code>dbt-data-diff</code> package provides the diff results into 3 categories or 3 levels of the diff as follows:</p> <ul> <li>🥉 <strong>Key diff</strong> (<a href=https://github.com/infinitelambda/dbt-data-diff/tree/main/models/01_key_diff/ >models</a>): Compare the Primary Key (<code>pk</code>) only</li> <li>🥈 <strong>Schema diff</strong> (<a href=https://github.com/infinitelambda/dbt-data-diff/tree/main/models/02_schema_diff/ >models</a>): Compare the list of column's Names and Data Types</li> <li>🥇 <strong>Content diff</strong> (aka Data diff) (<a href=https://github.com/infinitelambda/dbt-data-diff/tree/main/models/03_content_diff/ >models</a>): Compare all cell values. The columns will be filtered by each table's configuration (<code>include_columns</code> and <code>exclude_columns</code>), and the data can be also filtered by the <code>where</code> config. Behind the scenes, this operation does not require the Primary Key (PK) config, it will perform Bulk Operation (<code>INTERCEPT</code> or <code>MINUS</code>) and make an aggregation to make up the column level's match percentage</li> </ul> <p>Sample diffing: <img src=./assets/img/data-diff.jpeg alt="Sample diffing"></p> <p>Behind the scenes, this package leverages the ❄️ <a href=https://docs.snowflake.com/en/developer-guide/stored-procedure/stored-procedures-snowflake-scripting>Scripting Stored Procedure</a> which provides the 3 ones correspondingly with 3 categories as above. Moreover, it utilizes the <a href="https://docs.snowflake.com/en/user-guide/tasks-intro?utm_source=legacy&utm_medium=serp&utm_term=task+DAG#label-task-dag">DAG of Tasks</a> to optimize the speed with the parallelism once enabled by configuration 🚀</p> <p>Sample DAG:</p> <p><img src=./assets/img/Sample_DAG_of_Tasks.png alt="Sample DAG"></p> <h2 id=installation>Installation<a class=headerlink href=#installation title="Permanent link">&para;</a></h2> <ul> <li>Add to <code>packages.yml</code> file:</li> </ul> <div class="language-text highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a>packages:
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a>  - package: infinitelambda/dbt-data-diff
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a>    version: [&quot;&gt;=1.0.0&quot;, &quot;&lt;1.1.0&quot;]
</span></code></pre></div> <p>Or use the latest version from git:</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-1-1><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a>packages:
</span><span id=__span-1-2><a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a>  - git: &quot;https://github.com/dbt-labs/dbt-utils.git&quot;
</span><span id=__span-1-3><a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a>    revision: 1.0.0 # 1.0.0b1
</span></code></pre></div> <ul> <li>(Optional) Configure database &amp; schema in <code>dbt_project.yml</code> file:</li> </ul> <div class="language-text highlight"><pre><span></span><code><span id=__span-2-1><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a>vars:
</span><span id=__span-2-2><a id=__codelineno-2-2 name=__codelineno-2-2 href=#__codelineno-2-2></a>  # (optional) default to `target.database` if not specified
</span><span id=__span-2-3><a id=__codelineno-2-3 name=__codelineno-2-3 href=#__codelineno-2-3></a>  data_diff__database: COMMON
</span><span id=__span-2-4><a id=__codelineno-2-4 name=__codelineno-2-4 href=#__codelineno-2-4></a>  # (optional) default to `target.schema` if not specified
</span><span id=__span-2-5><a id=__codelineno-2-5 name=__codelineno-2-5 href=#__codelineno-2-5></a>  data_diff__schema: DATA_DIFF
</span></code></pre></div> <ul> <li>Create/Migrate the <code>data-diff</code>'s DDL resources</li> </ul> <div class="language-bash highlight"><pre><span></span><code><span id=__span-3-1><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a>dbt<span class=w> </span>deps
</span><span id=__span-3-2><a id=__codelineno-3-2 name=__codelineno-3-2 href=#__codelineno-3-2></a>dbt<span class=w> </span>run<span class=w> </span>-s<span class=w> </span>data_diff<span class=w> </span>--vars<span class=w> </span><span class=s1>&#39;{data_diff__on_migration: true}&#39;</span>
</span></code></pre></div> <h2 id=quick-start>Quick Start<a class=headerlink href=#quick-start title="Permanent link">&para;</a></h2> <h3 id=1-configure-the-tables-that-need-comparing-in-dbt_projectyml>1. Configure the tables that need comparing in <code>dbt_project.yml</code><a class=headerlink href=#1-configure-the-tables-that-need-comparing-in-dbt_projectyml title="Permanent link">&para;</a></h3> <p>We're going to use the <code>data_diff__configured_tables</code> variable (Check out the <a href=https://github.com/infinitelambda/dbt-data-diff/tree/main/dbt_project.yml>dbt_project.yml</a>/<code>vars</code> section for more details!)</p> <p>For example, we want to compare <code>table_x</code> between <strong>PROD</strong> db and <strong>DEV</strong> one:</p> <div class="language-yaml highlight"><pre><span></span><code><span id=__span-4-1><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a><span class=nt>vars</span><span class=p>:</span>
</span><span id=__span-4-2><a id=__codelineno-4-2 name=__codelineno-4-2 href=#__codelineno-4-2></a><span class=w>  </span><span class=nt>data_diff__configured_tables</span><span class=p>:</span>
</span><span id=__span-4-3><a id=__codelineno-4-3 name=__codelineno-4-3 href=#__codelineno-4-3></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>src_db</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">your_prod</span>
</span><span id=__span-4-4><a id=__codelineno-4-4 name=__codelineno-4-4 href=#__codelineno-4-4></a><span class=w>      </span><span class=nt>src_schema</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">your_schema</span>
</span><span id=__span-4-5><a id=__codelineno-4-5 name=__codelineno-4-5 href=#__codelineno-4-5></a><span class=w>      </span><span class=nt>src_table</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">table_x</span>
</span><span id=__span-4-6><a id=__codelineno-4-6 name=__codelineno-4-6 href=#__codelineno-4-6></a><span class=w>      </span><span class=nt>trg_db</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">your_dev</span>
</span><span id=__span-4-7><a id=__codelineno-4-7 name=__codelineno-4-7 href=#__codelineno-4-7></a><span class=w>      </span><span class=nt>trg_schema</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">your_schema</span>
</span><span id=__span-4-8><a id=__codelineno-4-8 name=__codelineno-4-8 href=#__codelineno-4-8></a><span class=w>      </span><span class=nt>trg_table</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">table_x</span>
</span><span id=__span-4-9><a id=__codelineno-4-9 name=__codelineno-4-9 href=#__codelineno-4-9></a><span class=w>      </span><span class=nt>pk</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">key</span><span class=w> </span><span class=c1># multiple columns splitted by comma</span>
</span><span id=__span-4-10><a id=__codelineno-4-10 name=__codelineno-4-10 href=#__codelineno-4-10></a><span class=w>      </span><span class=nt>include_columns</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">[]</span><span class=w> </span><span class=c1># [] to include all</span>
</span><span id=__span-4-11><a id=__codelineno-4-11 name=__codelineno-4-11 href=#__codelineno-4-11></a><span class=w>      </span><span class=nt>exclude_columns</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">[</span><span class=s>&quot;loaded_at&quot;</span><span class="p p-Indicator">]</span><span class=w> </span><span class=c1># [] to exclude loaded_at field</span>
</span></code></pre></div> <h3 id=2-refresh-the-configured-tabless-data>2. Refresh the configured tables's data<a class=headerlink href=#2-refresh-the-configured-tabless-data title="Permanent link">&para;</a></h3> <p>We can skip this step if you already did it. If not, let's run the below command:</p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-5-1><a id=__codelineno-5-1 name=__codelineno-5-1 href=#__codelineno-5-1></a>dbt<span class=w> </span>run<span class=w> </span>-s<span class=w> </span>data_diff<span class=w> </span><span class=se>\</span>
</span><span id=__span-5-2><a id=__codelineno-5-2 name=__codelineno-5-2 href=#__codelineno-5-2></a><span class=w>  </span>--full-refresh<span class=w> </span><span class=se>\</span>
</span><span id=__span-5-3><a id=__codelineno-5-3 name=__codelineno-5-3 href=#__codelineno-5-3></a><span class=w>  </span>--vars<span class=w> </span><span class=s1>&#39;{data_diff__on_migration: true, data_diff__on_migration_data: true, data_diff__full_refresh: true}&#39;</span>
</span></code></pre></div> <div class="admonition note"> <p class=admonition-title>In the above:</p> <ul> <li><code>--full-refresh</code> and <code>data_diff__full_refresh</code>: To re-create all data-diff models</li> <li><code>data_diff__on_migration: true</code>: To re-create the stored procedures</li> <li><code>data_diff__on_migration_data: true</code>: To reset the configured data</li> </ul> </div> <h3 id=3-trigger-the-validation-via-dbt-operation>3. Trigger the validation via dbt operation<a class=headerlink href=#3-trigger-the-validation-via-dbt-operation title="Permanent link">&para;</a></h3> <p>Now, let's start the diff run:</p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-6-1><a id=__codelineno-6-1 name=__codelineno-6-1 href=#__codelineno-6-1></a>dbt<span class=w> </span>run-operation<span class=w> </span>data_diff__run<span class=w>        </span><span class=c1># normal mode, run in sequence, wait unitl finished</span>
</span><span id=__span-6-2><a id=__codelineno-6-2 name=__codelineno-6-2 href=#__codelineno-6-2></a><span class=c1># OR</span>
</span><span id=__span-6-3><a id=__codelineno-6-3 name=__codelineno-6-3 href=#__codelineno-6-3></a>dbt<span class=w> </span>run-operation<span class=w> </span>data_diff__run_async<span class=w>  </span><span class=c1># async mode, parallel, no waiting</span>
</span><span id=__span-6-4><a id=__codelineno-6-4 name=__codelineno-6-4 href=#__codelineno-6-4></a>dbt<span class=w> </span>run-operation<span class=w> </span>data_diff__run_async<span class=w> </span>--args<span class=w> </span><span class=s1>&#39;{is_polling_status: true}&#39;</span>
</span><span id=__span-6-5><a id=__codelineno-6-5 name=__codelineno-6-5 href=#__codelineno-6-5></a><span class=w>                                        </span><span class=c1># async mode, parallel, status polling</span>
</span></code></pre></div> <div class="admonition tip"> <p class=admonition-title>In the Async Mode</p> <p>We leverage the DAG of tasks, therefore the dbt's ROLE will need granting the addtional privilege:</p> <div class="language-sql highlight"><pre><span></span><code><span id=__span-7-1><a id=__codelineno-7-1 name=__codelineno-7-1 href=#__codelineno-7-1></a><span class=n>use</span><span class=w> </span><span class=k>role</span><span class=w> </span><span class=n>accountadmin</span><span class=p>;</span>
</span><span id=__span-7-2><a id=__codelineno-7-2 name=__codelineno-7-2 href=#__codelineno-7-2></a><span class=k>grant</span><span class=w> </span><span class=k>execute</span><span class=w> </span><span class=n>task</span><span class=w> </span><span class=k>on</span><span class=w> </span><span class=n>account</span><span class=w> </span><span class=k>to</span><span class=w> </span><span class=k>role</span><span class=w> </span><span class=err>{{</span><span class=w> </span><span class=n>target</span><span class=p>.</span><span class=k>role</span><span class=w> </span><span class=err>}}</span><span class=p>;</span>
</span></code></pre></div> </div> <details> <summary>📖 Or via dbt hook by default (it will run an incremental load for all models)</summary> <div class="language-yaml highlight"><pre><span></span><code><span id=__span-8-1><a id=__codelineno-8-1 name=__codelineno-8-1 href=#__codelineno-8-1></a><span class=c1># Add into dbt_project.yml file</span>
</span><span id=__span-8-2><a id=__codelineno-8-2 name=__codelineno-8-2 href=#__codelineno-8-2></a>
</span><span id=__span-8-3><a id=__codelineno-8-3 name=__codelineno-8-3 href=#__codelineno-8-3></a><span class=c1># normal mode</span>
</span><span id=__span-8-4><a id=__codelineno-8-4 name=__codelineno-8-4 href=#__codelineno-8-4></a><span class="l l-Scalar l-Scalar-Plain">on-run-end</span>
</span><span id=__span-8-5><a id=__codelineno-8-5 name=__codelineno-8-5 href=#__codelineno-8-5></a><span class=w>  </span><span class="l l-Scalar l-Scalar-Plain">- &gt;</span><span class=w> </span><span class=c1># run data-diff hook</span>
</span><span id=__span-8-6><a id=__codelineno-8-6 name=__codelineno-8-6 href=#__codelineno-8-6></a><span class=w>    </span><span class="p p-Indicator">{</span><span class=err>%</span><span class=w> </span><span class=nv>if var(&quot;data_diff__on_run_hook&quot;</span><span class="p p-Indicator">,</span><span class=w> </span><span class=nv>false) %</span><span class="p p-Indicator">}</span>
</span><span id=__span-8-7><a id=__codelineno-8-7 name=__codelineno-8-7 href=#__codelineno-8-7></a><span class=w>      </span><span class="p p-Indicator">{{</span><span class=w> </span><span class=nv>data_diff.data_diff__run(in_hook=true)</span><span class=w> </span><span class="p p-Indicator">}}</span>
</span><span id=__span-8-8><a id=__codelineno-8-8 name=__codelineno-8-8 href=#__codelineno-8-8></a><span class=w>    </span><span class="p p-Indicator">{</span><span class=err>%</span><span class=w> </span><span class=nv>endif %</span><span class="p p-Indicator">}</span>
</span><span id=__span-8-9><a id=__codelineno-8-9 name=__codelineno-8-9 href=#__codelineno-8-9></a>
</span><span id=__span-8-10><a id=__codelineno-8-10 name=__codelineno-8-10 href=#__codelineno-8-10></a><span class=c1># async mode</span>
</span><span id=__span-8-11><a id=__codelineno-8-11 name=__codelineno-8-11 href=#__codelineno-8-11></a><span class="l l-Scalar l-Scalar-Plain">on-run-end</span>
</span><span id=__span-8-12><a id=__codelineno-8-12 name=__codelineno-8-12 href=#__codelineno-8-12></a><span class=w>  </span><span class="l l-Scalar l-Scalar-Plain">- &gt;</span><span class=w> </span><span class=c1># run data-diff hook</span>
</span><span id=__span-8-13><a id=__codelineno-8-13 name=__codelineno-8-13 href=#__codelineno-8-13></a><span class=w>    </span><span class="p p-Indicator">{</span><span class=err>%</span><span class=w> </span><span class=nv>if var(&quot;data_diff__on_run_hook&quot;</span><span class="p p-Indicator">,</span><span class=w> </span><span class=nv>false) %</span><span class="p p-Indicator">}</span>
</span><span id=__span-8-14><a id=__codelineno-8-14 name=__codelineno-8-14 href=#__codelineno-8-14></a><span class=w>      </span><span class="p p-Indicator">{{</span><span class=w> </span><span class=nv>data_diff.data_diff__run_async(in_hook=true)</span><span class=w> </span><span class="p p-Indicator">}}</span>
</span><span id=__span-8-15><a id=__codelineno-8-15 name=__codelineno-8-15 href=#__codelineno-8-15></a><span class=w>    </span><span class="p p-Indicator">{</span><span class=err>%</span><span class=w> </span><span class=nv>endif %</span><span class="p p-Indicator">}</span>
</span></code></pre></div> <div class="language-bash highlight"><pre><span></span><code><span id=__span-9-1><a id=__codelineno-9-1 name=__codelineno-9-1 href=#__codelineno-9-1></a><span class=c1># terminal</span>
</span><span id=__span-9-2><a id=__codelineno-9-2 name=__codelineno-9-2 href=#__codelineno-9-2></a>dbt<span class=w> </span>run<span class=w> </span>-s<span class=w> </span>data_diff<span class=w> </span>--vars<span class=w> </span><span class=s1>&#39;{data_diff__on_run_hook: true}&#39;</span>
</span></code></pre></div> </details> <h2 id=demo>Demo<a class=headerlink href=#demo title="Permanent link">&para;</a></h2> <p><strong>Part 1</strong>: Configure and prepare Blue/Green</p> <p><a href="https://www.loom.com/share/2445f322720a4466ab9494c90e66946b?sid=9b5f354c-3611-412a-ac18-554e4b879913"><img alt="Watch the video - P1" src=https://cdn.loom.com/sessions/thumbnails/2445f322720a4466ab9494c90e66946b-1705309091927-with-play.gif></a></p> <p><strong>Part 2</strong>: Run data diff &amp; examine the result</p> <p><a href="https://www.loom.com/share/c4dc4179a4ee4a0d9583db405b46e969?sid=fc6e2dd8-c456-4888-8eaf-64883423270d"><img alt="Watch the video - P2" src=https://cdn.loom.com/sessions/thumbnails/c4dc4179a4ee4a0d9583db405b46e969-1705308496485-with-play.gif></a></p> <h2 id=variables>Variables<a class=headerlink href=#variables title="Permanent link">&para;</a></h2> <div class="admonition tip"> <p class=admonition-title>See <code>dbt_project.yml</code> file</p> <p>Go to <code>vars</code> section <a href=https://github.com/infinitelambda/dbt-data-diff/blob/main/dbt_project.yml#L12>here</a> 🏃</p> <p>We managed to provide the inline comments only for now, soon to have the dedicated page for more detail explanation.</p> </div> <p>Here are the full list of built-in variables:</p> <ul> <li><code>data_diff__database</code></li> <li><code>data_diff__schema</code></li> <li><code>data_diff__on_migration</code></li> <li><code>data_diff__on_migration_data</code></li> <li><code>data_diff__on_run_hook</code></li> <li><code>data_diff__full_refresh</code></li> <li><code>data_diff__configured_tables__source_fixed_naming</code></li> <li><code>data_diff__configured_tables__target_fixed_naming</code></li> <li><code>data_diff__configured_tables</code></li> <li><code>data_diff__auto_pipe</code></li> </ul> <h2 id=how-to-contribute>How to Contribute ❤️<a class=headerlink href=#how-to-contribute title="Permanent link">&para;</a></h2> <p><code>dbt-data-diff</code> is an open-source dbt package. Whether you are a seasoned open-source contributor or a first-time committer, we welcome and encourage you to contribute code, documentation, ideas, or problem statements to this project.</p> <p>👉 See <a href=https://data-diff.iflambda.com/latest/nav/dev/contributing.html>CONTRIBUTING guideline</a> for more details or check out <a href=https://github.com/infinitelambda/dbt-data-diff/tree/main/CONTRIBUTING.md>CONTRIBUTING.md</a></p> <p>🌟 And then, kudos to <strong>our beloved Contributors</strong>:</p> <p><a href=https://github.com/infinitelambda/dbt-data-diff/graphs/contributors> <img src="https://contrib.rocks/image?repo=infinitelambda/dbt-data-diff" alt=Contributors> </a></p> <h2 id=features-comparison-to-the-alternative-packages>Features comparison to the alternative packages<a class=headerlink href=#features-comparison-to-the-alternative-packages title="Permanent link">&para;</a></h2> <table> <thead> <tr> <th style="text-align: left;">Feature</th> <th style="text-align: left;">Supported Package</th> <th style="text-align: left;">Notes</th> </tr> </thead> <tbody> <tr> <td style="text-align: left;">Key diff</td> <td style="text-align: left;"><ul><li><code>dbt_data_diff</code></li><li><a href=https://github.com/datafold/data_diff><code>data_diff</code></a></li><li><a href=https://github.com/dbt-labs/dbt_audit_helper><code>dbt_audit_helper</code></a></li></ul></td> <td style="text-align: left;">✅ all available</td> </tr> <tr> <td style="text-align: left;">Schema diff</td> <td style="text-align: left;"><ul><li><code>dbt_data_diff</code></li><li><a href=https://github.com/datafold/data_diff><code>data_diff</code>(*)</a></li><li><a href=https://github.com/dbt-labs/dbt_audit_helper><code>dbt_audit_helper</code></a></li></ul></td> <td style="text-align: left;">(*): Only available in the paid-version 💰</td> </tr> <tr> <td style="text-align: left;">Content diff</td> <td style="text-align: left;"><ul><li><code>dbt_data_diff</code></li><li><a href=https://github.com/datafold/data_diff><code>data_diff</code>(*)</a></li><li><a href=https://github.com/dbt-labs/dbt_audit_helper><code>dbt_audit_helper</code></a></li></ul></td> <td style="text-align: left;">(*): Only available in the paid-version 💰</td> </tr> <tr> <td style="text-align: left;">Yaml Configuration</td> <td style="text-align: left;"><ul><li><code>dbt_data_diff</code></li></ul></td> <td style="text-align: left;"><code>data_diff</code> will use the <code>toml</code> file, <code>dbt_audit_helper</code> will require to create new models for each comparison</td> </tr> <tr> <td style="text-align: left;">Query &amp; Execution log</td> <td style="text-align: left;"><ul><li><code>dbt_data_diff</code></li></ul></td> <td style="text-align: left;">Except for dbt's log, this package to be very transparent on which diff queries executed which are exposed in <a href=https://github.com/infinitelambda/dbt-data-diff/tree/main/models/log_for_validation.yml><code>log_for_validation</code></a> model</td> </tr> <tr> <td style="text-align: left;">Snowflake-native Stored Proc</td> <td style="text-align: left;"><ul><li><code>dbt_data_diff</code></li></ul></td> <td style="text-align: left;">Purely built as Snowflake SQL native stored procedures</td> </tr> <tr> <td style="text-align: left;">Parallelism</td> <td style="text-align: left;"><ul><li><code>dbt_data_diff</code></li><li><a href=https://github.com/datafold/data_diff><code>data_diff</code></a></li><li><a href=https://github.com/dbt-labs/dbt_audit_helper><code>dbt_audit_helper</code></a></li></ul></td> <td style="text-align: left;"><code>dbt_data_diff</code> leverages Snowflake Task DAG, the others use python threading</td> </tr> <tr> <td style="text-align: left;">Asynchronous</td> <td style="text-align: left;"><ul><li><code>dbt_data_diff</code></li></ul></td> <td style="text-align: left;">Trigger run &amp; go away. Decide to continously poll the run status and waiting until finished if needed</td> </tr> <tr> <td style="text-align: left;">Multi-warehouse supported</td> <td style="text-align: left;"><ul><li><code>dbt_data_diff</code>(*)</li><li><a href=https://github.com/datafold/data_diff><code>data_diff</code></a></li><li><a href=https://github.com/dbt-labs/dbt_audit_helper><code>dbt_audit_helper</code></a></li></ul></td> <td style="text-align: left;">(*): Future Consideration 🏃</td> </tr> </tbody> </table> <h2 id=about-infinite-lambda>About Infinite Lambda<a class=headerlink href=#about-infinite-lambda title="Permanent link">&para;</a></h2> <p>Infinite Lambda is a cloud and data consultancy. We build strategies, help organizations implement them, and pass on the expertise to look after the infrastructure.</p> <p>We are an Elite Snowflake Partner, a Platinum dbt Partner, and a two-time Fivetran Innovation Partner of the Year for EMEA.</p> <p>Naturally, we love exploring innovative solutions and sharing knowledge, so go ahead and:</p> <p>🔧 Take a look around our <a href=https://github.com/infinitelambda>Git</a></p> <p>✏️ Browse our <a href=https://infinitelambda.com/category/tech-blog/ >tech blog</a></p> <p>We are also chatty, so:</p> <p>👀 Follow us on <a href=https://www.linkedin.com/company/infinite-lambda/ >LinkedIn</a></p> <p>👋🏼 Or just <a href=https://infinitelambda.com/contacts/ >get in touch</a></p> <p><a href=https://infinitelambda.com/ ><img src=https://raw.githubusercontent.com/infinitelambda/cdn/1.0.0/general/images/GitHub-About-Section-1080x1080.png alt="About IL" width=500></a></p> <form class=md-feedback name=feedback hidden> <fieldset> <legend class=md-feedback__title> Was this page helpful? </legend> <div class=md-feedback__inner> <div class=md-feedback__list> <button class="md-feedback__icon md-icon" type=submit title="This page was helpful" data-md-value=1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m12 21.35-1.45-1.32C5.4 15.36 2 12.27 2 8.5 2 5.41 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.08C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.41 22 8.5c0 3.77-3.4 6.86-8.55 11.53L12 21.35Z"/></svg> </button> <button class="md-feedback__icon md-icon" type=submit title="This page could be improved" data-md-value=0> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m12 21.35-1.45-1.32C5.4 15.36 2 12.27 2 8.5 2 5.41 4.42 3 7.5 3c.67 0 1.32.12 1.94.33L13 9.35l-4 5 3 7M16.5 3C19.58 3 22 5.41 22 8.5c0 3.77-3.4 6.86-8.55 11.53L12 21.35l-1-7 4.5-5-2.65-5.08C13.87 3.47 15.17 3 16.5 3Z"/></svg> </button> </div> <div class=md-feedback__note> <div data-md-value=1 hidden> Thanks for your feedback! </div> <div data-md-value=0 hidden> Thanks for your feedback! Help us improve this page by using our <a href="https://github.com/infinitelambda/dbt-data-diff/issues/new/?title=[DOCS]+%F0%9F%93%A6%20dbt-data-diff+-+/index.html" target=_blank>feedback form</a>. </div> </div> </div> </fieldset> </form> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg> Back to top </button> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=contributing.html class="md-footer__link md-footer__link--next" aria-label="Next: Contribution Guideline"> <div class=md-footer__title> <span class=md-footer__direction> Next </span> <div class=md-ellipsis> Contribution Guideline </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2024 Infinite Lambda </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://github.com/infinitelambda target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </a> <a href=https://www.linkedin.com/company/infinite-lambda/ target=_blank rel=noopener title=www.linkedin.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <div class=md-consent data-md-component=consent id=__consent hidden> <div class=md-consent__overlay></div> <aside class=md-consent__inner> <form class="md-consent__form md-grid md-typeset" name=consent> <h4>Cookie consent</h4> <p>We use cookies to recognize your repeated visits and preferences, as well as to measure the effectiveness of our documentation and whether users find what they're searching for. With your consent, you're helping us to make our documentation better.</p> <input class=md-toggle type=checkbox id=__settings> <div class=md-consent__settings> <ul class=task-list> <li class=task-list-item> <label class=task-list-control> <input type=checkbox name=analytics checked> <span class=task-list-indicator></span> Google Analytics </label> </li> <li class=task-list-item> <label class=task-list-control> <input type=checkbox name=github checked> <span class=task-list-indicator></span> GitHub </label> </li> </ul> </div> <div class=md-consent__controls> <button class="md-button md-button--primary">Accept</button> <label class=md-button for=__settings>Manage settings</label> </div> </form> </aside> </div> <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout(function(){document.querySelector("[data-md-component=consent]").hidden=!1},250);var action,form=document.forms.consent;for(action of["submit","reset"])form.addEventListener(action,function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map(function(e){return[e,!0]}))),location.hash="",location.reload()})</script> <script id=__config type=application/json>{"base": ".", "features": ["announce.dismiss", "content.action.edit", "content.action.view", "content.code.annotate", "content.code.copy", "content.tooltips", "navigation.footer", "navigation.indexes", "navigation.sections", "navigation.top", "navigation.tracking", "search.highlight", "search.share", "search.suggest", "toc.follow"], "search": "assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script> <script src=assets/javascripts/bundle.d7c377c4.min.js></script> <script src=assets/js/feedback.js></script> <script src=assets/js/termynal.js></script> <script src=assets/js/custom.js></script> </body> </html>